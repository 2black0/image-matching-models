[workspace]
name = "image-matching-models"
version = "0.1.0"
description = "Easily test and apply pairwise image matching models"
authors = ["Alex Stoken <alex.stoken@gmail.com>", "Gabriele Berton <berton.gabri@gmail.com>"]
channels = ["pytorch", "nvidia", "conda-forge"]
platforms = ["linux-64"]

# Note: Some dependencies removed from pixi.toml due to strict resolver conflicts,
# but can still be installed in the SAME pixi environment using pip:
#
# - lightning, flow-vis, uniception: Already auto-installed via 'pixi run pip install -e .'
#   (pip resolver is more flexible than pixi's strict conda/pypi resolver)
#
# - torch-geometric, torch-cluster: Need manual install AFTER environment ready
#   due to build-time torch dependency: pixi run pip install torch-geometric torch-cluster
#
# - tensorflow (for OmniGlue): TensorFlow 2.16+ DOES support Python 3.11/3.12!
#   Install manually: pixi run pip install "tensorflow>=2.16.0"





[tasks]
# Install the package in editable mode
install = "pip install -e ."
install-all = "pip install -e .[all]"

[dependencies]
python = ">=3.10"
pytorch = ">=2.0.0"
pytorch-cuda = "12.1.*"
torchvision = "*"
matplotlib = "*"
einops = "*"
imageio = "*"
scipy = "*"
scikit-learn = "*"
scikit-image = "*"
tqdm = "*"
h5py = "*"
pip = "*"
pandas = ">=2.3.3,<3"
tabulate = ">=0.9.0,<0.10"
# Build tools removed
opencv = "*"
ffmpeg = { version = "*", channel = "conda-forge" }
jaxtyping = ">=0.3.5,<0.4"
jupyterlab = ">=4.5.2,<5"

[pypi-dependencies]
# opencv-python = "*"
kornia = "*"
transforms3d = "*"
kornia-moons = "*"
yacs = "*"
gdown = ">=5.1.0"
huggingface_hub = "*"
safetensors = "*"
tables = "*"
vispy = "*"
pyglet = "~=1.5.28"
trimesh = "*"
e2cnn = "*"
py3-wget = "*"
roma = "*"
loguru = "*"
timm = "*"
omegaconf = "*"
poselib = "*"
pydegensac = ">=0.2.1, <0.3"
pygcransac = ">=0.1.1,<0.2"
pytorch-lightning = "*"
onnxruntime = "*"
tensorflow = "*"
lightning = "*"

